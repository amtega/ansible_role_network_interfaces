---
# Role default lower priority variables
# Network general parameters
hostname: "{{ ansible_hostname }}"
gateway: 10.0.2.1

# DNS resolv file variables
dns_domain: acme.com
dns_search:
  - acme.com
  - xunta.es
dns_nameserver:
  - 10.180.188.32
dns_options:
  - timeout:1
  - rotate

# NICs configuration variable
#
# Every nic is defined by a list of attributes. Since config files will be created
# controlling if attribute is defined, only definied if needed
######
# List of attributes
######
# logicalname:     // Required
# macaddress:      // Required
# ipv4:            // List of ip and cidr mask. Required
# mtu:             // Required
# route:           // List of netmask and gateway. Only defined if needed
# route_multicast: // Boolean. Only defined if needed
# vlanid:          //  Only defined if needed
nics:
  - logicalname: service-01
    macaddress: "{{ maclist[0] | default('00:00:00:00:00:00') }}"
    ipv4:
      - ipaddr: 10.0.2.10
        cidr: 24
      - ipaddr: 10.0.2.50
        cidr: 24
    mtu: 1500
    route_multicast: yes

  - logicalname: management-01
    macaddress: "{{ maclist[1] | default('00:00:00:00:00:01') }}"
    ipv4:
      - ipaddr: 10.0.2.11
        cidr: 24
    mtu: 1500
    route:
      - netmask: 10.0.2.0/24
        gateway: 10.0.2.1

  - logicalname: backup-01
    macaddress: "{{ maclist[2] | default('00:00:00:00:00:02') }}"
    ipv4:
      - ipaddr: 10.0.2.12
        cidr: 24
    mtu: 9000
    vlanid: 101

  - logicalname: monitor-01
    macaddress: "{{ maclist[3] | default('00:00:00:00:00:03')}}"
    ipv4:
      - ipaddr: 10.0.2.13
        cidr: 24
    mtu: 1500

#  - logicalname: nas-01
#    macaddress: "{{ maclist[4] | default('00:00:00:00:00:04') }}"
#    ipv4:
#      - ipaddr: 10.0.2.14
#        cidr: 24
#    mtu: 9000
